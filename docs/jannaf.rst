
.. jannaf

.. _ref_to_jannaf_standard:

JANNAF Standard
===============

In 1975, the `John Hopkins University, Applied Physics Laboratory <https://www.jhuapl.edu/>`_
published `CPIA 246 <https://apps.dtic.mil/docs/citations/ADA127784>`_ in conjunction with
`JANNAF (Joint Army-Navy-NASA-Air Force) <https://www.jannaf.org/>`_ titled
`Rocket Engine Performance Test Data Acquisition and Interpretation Manual <https://apps.dtic.mil/sti/citations/ADA127784>`_

:ref:`CPIA 246 JANNAF Rocket Engine Performance Prediction and Evaluation Manual <ref_to_cpia_246>`  established a US
national standard for the analytical and experimental evaluation of the performance of
liquid propellant rocket engines and is a result of the work by the
`Interagency Chemical Rocket Propulsion Group (ICRPG) <https://www.jannaf.org/about/history>`_ 
formed in 1962. In 1973,  
`NASA-CR-131519 <https://ntrs.nasa.gov/search?q=ICRPG%20Liquid%20Propellant%20Thrust%20Chamber%20Performance%20Evaluation%20Manual&highlight=true&reportNumber=JPL-TM-33-548&fundingNumber=NAS7-100>`_
was published to discuss the history of the `ICRPG <https://www.jannaf.org/about/history>`_  meetings that led to
:ref:`CPIA 246 <ref_to_cpia_246>` and to
summarize the selected model approaches. 

In 1977, `Aerojet Liquid Rocket Company (ALRC) <https://en.wikipedia.org/wiki/Aerojet>`_, now known as
`Aerojet Rocketdyne <https://www.rocket.com/>`_,
published an update to :ref:`CPIA 246 <ref_to_cpia_246>`
entitled `Analysis of rocket engine injection combustion processes <https://ntrs.nasa.gov/citations/19770012219>`_
that reflects on-going improvements to the models and software used to implement the 
"standard" JANNAF model. The `Aerojet <https://www.rocket.com/>`_ report also indicates that,
in 1977, the `JANNAF <https://www.jannaf.org/>`_ model, in general, 
could not yet achieve a 1% accuracy on predicting Isp without the help of test data.

There are two model approaches offered by `JANNAF <https://www.jannaf.org/>`_,
a rigorous model and a simplified model.

Rigorous Model
--------------

The rigorous model is intended for the detailed analysis of an engine that is preparing for a 
hardware production design; either test or flight hardware.

The rigorous model requires many more resources and much more technical expertise than
can be presented here. 

Since 1977, much has changed in how aerospace companies conduct rigorous performance analysis.
The rigorous approach has evolved.
The advent of `Computational fluid dynamics (CFD) <https://en.wikipedia.org/wiki/Computational_fluid_dynamics>`_
has given rise to analysis approaches like the NASA Space Launch System (SLS) at
`NASA Ames Research Center <https://www.nasa.gov/ames/designing-new-rocket-engines-for-nasa-s-space-launch-system>`_ and
`NASA Marshall Space Flight Center (MSFC) <https://www.nas.nasa.gov/SC14/demos/demo20.html>`_.
Such models require super computers or large computer clusters in order to complete a single run
in a reasonable time (often several days of run time).

Simplified Model
----------------

The simplified model is intended more for preliminary analysis where general trends and influences are more important
than low-level design details.

The simplified model can be performed with some
first-order efficiency models and the `python <https://www.python.org>`_ project
`RocketCEA <https://rocketcea.readthedocs.io/en/latest/>`_
(`RocketCEA <https://rocketcea.readthedocs.io/en/latest/>`_ wraps
the `NASA FORTRAN CEA code <https://www.grc.nasa.gov/WWW/CEAWeb/ceaHome.htm>`_ that calculates
One Dimensional Equilibrium Isp)

**Rocketisp** will focus on a simplified model of performance prediction.


`NASA-CR-131519 <https://ntrs.nasa.gov/search?q=ICRPG%20Liquid%20Propellant%20Thrust%20Chamber%20Performance%20Evaluation%20Manual&highlight=true&reportNumber=JPL-TM-33-548&fundingNumber=NAS7-100>`_
describes the simplified model for calculating delivered Isp (:math:`Isp_{del}`) as having 3 basic assumptions::

    1  One-dimensional isentropic expansion (ODE) 
    2. Simple nozzle geometry 
    3. A system of correction losses to the ODE value 
        a. Mixture ratio distribution 
        b. Chamber friction 
        c. Chamber heat transfer 
        d. Energy release efficiency 
        e. Nozzle friction 
        f. Nozzle heat transfer 
        g. Nozzle geometry 
        h. Kinetics 
        i. Mass distribution 
        j. Two-phase flow 
        k. Nonstandard inlet conditions 

In its most simplified form, the delivered Isp (:math:`Isp_{del}`) of a liquid propellant rocket engine 
with a conventional nozzle
is just the One Dimensional Equilibrium Isp 
(:math:`Isp_{ODE}`) generated by `RocketCEA <https://rocketcea.readthedocs.io/en/latest/>`_ multiplied
times each of the efficiencies (:math:`\eta_i`) described by the correction losses, a through k, above.

.. math:: 
    \Large{Isp_{del} = Isp_{ODE} * \prod_{i=a}^k \eta_i}

The above efficiencies are usually separated into two groups; those that happen in the chamber and
those that happen in the nozzle.

Nozzle Losses
-------------

The Isp losses in the nozzle are more simple to model than the chamber losses and are usually
more consequential to the delivered Isp.

**Rocketisp** calculates overall nozzle efficiency from::

    effDiv = Divergence Efficiency of Nozzle
    effKin = Kinetic Efficiency of Nozzle
    effBL  = Boundary Layer Efficiency of Nozzle
    effTP  = Two Phase Efficiency of Nozzle


Chamber Losses
--------------

Chamber losses are usually more difficult to model than losses in the nozzle and
they are usually more subject to detailed design features. 

That said, the combined chamber losses are usually small in production engines.
For example, 98% efficiency is a very typical value for all the combined chamber losses.

**Rocketisp** calculates overall chamber efficiency from::

    effMix   = Inter-Element Mixing Efficiency of Injector
    effEm    = Intra-Element Mixing Efficiency of Injector
    effVap   = Vaporization Efficiency of Injector
    effHL    = Heat Loss Efficiency of Chamber
    effFFC   = Fuel Film Cooling Efficiency of Chamber
    effPulse = Pulsing Efficiency of Thruster


Mixing loss results from less than ideal mixing between the fuel and the oxidizer.
Vaporization loss results when the fuel and/or oxidizer do not completely vaporize to enable full combustion.
Those losses combined with any inability of combustion to reach
equilibrium chemistry are lumped to yield the injector losses,
sometimes referred to as combustion efficiency or energy release losses.

The most universally used parameter to characterize an injector is the characteristic velocity (:math:`c^*`).

`Rocket Propulsion Elements <https://archive.org/details/Rocket_Propulsion_Elements_8th_Edition_by_Oscar_Biblarz_George_P._Sutton>`_, 
defines :math:`c^*`, pronounced "cee-star", as:


.. math:: 
    \Large{c^* = P_c * A_t / \dot m}


The characteristic velocity (:math:`c^*`) is easily
determined from measured data of mass flow rate (:math:`\dot m`), chamber pressure (:math:`P_c`), 
and throat area (:math:`A_t`). It relates to the efficiency of
the combustion and is essentially independent of nozzle characteristics.

:math:`c^*` is often
used as a measure of the injector excellence since fully mixed and
reacted propellants generally have higher :math:`c^*` than poorly-mixed and
partially-reacted propellants. 

The most direct measurement of energy release efficiency (:math:`\eta_{ERE}`) 
is the measured :math:`c^*` efficiency (:math:`\eta_{c^*}`) of the thrust chamber. If the
:math:`c^*` efficiency is used to back out energy release efficiency , then the effect of the nozzle discharge
coefficient :math:`C_D` must be taken into account.

In other words, for a perfect injector: :math:`\Large{\eta_{c^*_{PI}} = 1 / C_D}`

For a real injector: :math:`\Large{\eta_{c^*} = \eta_{ERE} / C_D}`


such that the energy release efficiency can be calculated as: 

.. math::
    \Large{\eta_{ERE} = \eta_{c^*} * C_D}

Note that, *In general, the use of empirical data is required to predict the energy release efficiency.*
-- `D.E. Coats <https://arc.aiaa.org/doi/book/10.2514/4.866760>`_




